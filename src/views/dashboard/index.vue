<template>
  <div class="py-10">
    <div class="flex mb-10">
      <div v-if="client" class="w-[400px] border border-gray-200 rounded-2xl space-y-6 mr-5 p-5">
        <div class="flex flex-col items-center space-y-4">
          <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_3725_121118)">
              <path d="M22.4996 22.675V32.1583H17.5829V22.6917C16.5246 22.5917 15.5163 22.525 14.5079 22.4083C12.8011 22.2671 11.1201 21.9029 9.50792 21.325C9.06898 21.157 8.65644 20.9269 8.28292 20.6417C8.16234 20.5791 8.06125 20.4846 7.99069 20.3685C7.92014 20.2524 7.88281 20.1192 7.88281 19.9833C7.88281 19.8475 7.92014 19.7142 7.99069 19.5981C8.06125 19.482 8.16234 19.3875 8.28292 19.325C8.86304 18.9466 9.49071 18.6468 10.1496 18.4333C12.1221 17.8578 14.1556 17.5166 16.2079 17.4167L17.5746 17.3167C17.5746 16.3833 17.5746 15.475 17.5746 14.5583C17.5746 14.4916 17.3413 14.3667 17.2163 14.3667C16.2996 14.3667 15.3829 14.3667 14.4662 14.3667H10.8163V9.86667H29.2746V14.3667H28.7829C26.8413 14.3667 24.8913 14.3667 22.9496 14.3667C22.5996 14.3667 22.4996 14.475 22.5079 14.8167C22.5079 15.65 22.5079 16.4833 22.5079 17.3167C23.5746 17.4167 24.5913 17.4833 25.6079 17.6083C27.3944 17.7466 29.1514 18.1423 30.8246 18.7833C31.2086 18.9445 31.5655 19.1637 31.8829 19.4333C31.9793 19.4952 32.0585 19.5802 32.1134 19.6807C32.1683 19.7812 32.197 19.8938 32.197 20.0083C32.197 20.1228 32.1683 20.2355 32.1134 20.3359C32.0585 20.4364 31.9793 20.5215 31.8829 20.5833C31.4111 20.9327 30.892 21.2133 30.3413 21.4167C28.5328 22.0098 26.657 22.3738 24.7579 22.5C23.9829 22.5917 23.2496 22.5917 22.4996 22.675ZM17.5746 17.675C17.4914 17.6682 17.4078 17.6682 17.3246 17.675C15.5913 17.8667 13.8496 18.0083 12.1246 18.2833C11.2394 18.4496 10.3795 18.7297 9.56626 19.1166C8.8496 19.4416 8.85793 20.0083 9.56626 20.375C10.1465 20.6697 10.7589 20.8962 11.3913 21.05C13.638 21.5735 15.9346 21.8529 18.2413 21.8833C21.4854 22.0479 24.7377 21.8354 27.9329 21.25C28.84 21.0514 29.7229 20.7552 30.5662 20.3666C31.1996 20.0916 31.1912 19.5333 30.5662 19.2C30.1437 18.932 29.6788 18.7375 29.1913 18.625C27.769 18.3305 26.3385 18.0805 24.8996 17.875C24.1246 17.7583 23.3329 17.75 22.4746 17.6833V21.0166H17.5579L17.5746 17.675Z" fill="#FDFDFD"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M21.5833 0H18.4167C18.0792 0.0458333 17.7396 0.0979136 17.4 0.149994C17.0604 0.202074 16.7208 0.254154 16.3833 0.299988C12.3895 1.03479 8.71399 2.96793 5.84551 5.84236C2.97704 8.71679 1.05154 12.3963 0.325012 16.3917L0 18.3V21.55C0.0290586 21.731 0.0575172 21.9127 0.0860194 22.0946C0.163776 22.591 0.241857 23.0894 0.333328 23.5833C1.06814 27.5771 3.0013 31.2527 5.87573 34.1211C8.75016 36.9896 12.4297 38.9151 16.425 39.6416L18.3333 39.9667H21.5C21.7034 39.9339 21.9055 39.9036 22.1073 39.8735C22.4181 39.827 22.7284 39.7806 23.0417 39.725C26.0557 39.2841 28.9269 38.152 31.4308 36.4172C33.9346 34.6824 36.0033 32.392 37.475 29.725C38.8276 27.3409 39.6571 24.6962 39.9083 21.9667C39.9312 21.8645 39.9619 21.7642 40 21.6667V18.5C39.925 18 39.85 17.5 39.7667 17C39.2946 13.766 38.0294 10.6992 36.0838 8.07317C34.1383 5.44712 31.5729 3.34351 28.6167 1.95C26.5076 0.915059 24.2242 0.282023 21.8833 0.083313C21.7813 0.0633079 21.681 0.0354674 21.5833 0ZM23.0519 22.6341C22.8699 22.6474 22.6862 22.661 22.5 22.675V32.1583H17.5417V22.6917C17.1522 22.6548 16.7694 22.6226 16.391 22.5906C15.7411 22.5358 15.1039 22.482 14.4667 22.4083C12.7598 22.2671 11.0789 21.9029 9.46665 21.325C9.02771 21.157 8.61519 20.9269 8.24168 20.6417C8.12109 20.5791 8.01998 20.4846 7.94942 20.3685C7.87887 20.2524 7.84157 20.1192 7.84157 19.9833C7.84157 19.8475 7.87887 19.7142 7.94942 19.5981C8.01998 19.482 8.12109 19.3875 8.24168 19.325C8.82179 18.9466 9.44947 18.6468 10.1083 18.4333C12.0809 17.8578 14.1143 17.5166 16.1667 17.4167L17.5333 17.3167V14.5583C17.5333 14.4916 17.3 14.3667 17.175 14.3667H14.425H10.775V9.86666H29.2583V14.3667H28.7667H22.9333C22.5833 14.3667 22.4917 14.475 22.4917 14.8167V17.3167C22.8468 17.35 23.1963 17.3796 23.5422 17.4088C24.2353 17.4675 24.9135 17.5249 25.5917 17.6083C27.3781 17.7466 29.1351 18.1423 30.8083 18.7833C31.1923 18.9445 31.5492 19.1637 31.8667 19.4333C31.963 19.4952 32.0423 19.5802 32.0971 19.6807C32.152 19.7812 32.1808 19.8938 32.1808 20.0083C32.1808 20.1228 32.152 20.2355 32.0971 20.3359C32.0423 20.4364 31.963 20.5215 31.8667 20.5833C31.3948 20.9327 30.8758 21.2133 30.325 21.4167C28.5165 22.0098 26.6408 22.3738 24.7417 22.5C24.1845 22.5507 23.6273 22.5917 23.0519 22.6341ZM17.55 21.0417V17.7083C17.4836 17.7012 17.4168 17.6984 17.35 17.7C16.8758 17.7524 16.4009 17.8011 15.9259 17.8499C14.6649 17.9792 13.403 18.1086 12.15 18.3083C11.2649 18.4746 10.405 18.7547 9.5917 19.1417C8.8917 19.4667 8.90004 20.0333 9.5917 20.4C10.172 20.6947 10.7844 20.9212 11.4167 21.075C13.6634 21.5985 15.96 21.8779 18.2667 21.9083C21.5109 22.0729 24.7632 21.8604 27.9584 21.275C28.8654 21.0764 29.7483 20.7802 30.5917 20.3917C31.1917 20.1167 31.1834 19.5833 30.5917 19.225C30.1692 18.957 29.7042 18.7625 29.2167 18.65C27.7889 18.3611 26.3584 18.1111 24.925 17.9C24.4256 17.8232 23.8936 17.7933 23.3506 17.7629C23.069 17.7471 22.7845 17.7311 22.5 17.7083V21.0417H17.55Z" fill="#53AE94"/>
            </g>
          </svg>
          <div class="text-center space-y-2">
            <div class="text-2xl font-bold text-gray-800">{{ client.balance.amount }} USDT</div>
            <div class="font-medium text-gray-500">{{ client.balance.amountC }} {{ client.currency.name }}</div>
          </div>
        </div>
        <div class="flex space-x-5">
          <button class="h-[46px] w-1/2 flex items-center justify-center rounded-md bg-blue-100 text-blue-500 text-[15px] font-semibold" @click="router.push('/buy')">Deposit</button>
          <button class="h-[46px] w-1/2 flex items-center justify-center rounded-md bg-blue-100 text-blue-500 text-[15px] font-semibold" @click="router.push('/sell')">Withdrawal</button>
        </div>
        <div>
          <div class="text-lg font-semibold text-gray-800 mb-4">Exchange rates</div>
          <div class="divide-y divide-gray-200">
            <div class="h-[40px] pl-5 pr-2.5 flex items-center justify-between text-xs font-medium text-gray-800">
              <span>Currency</span>
              <span>Price</span>
            </div>
            <div class="h-[44px] pl-5 pr-2.5 flex items-center justify-between">
              <div class="flex items-center space-x-2.5 text-gray-600 hover:text-gray-500">
                <img class="h-[20px] w-[20px]" src="@/assets/icons/currency/RUB.png" alt="">
                <div class="text-xs font-medium">RUB</div>
              </div>
              <span class="text-xs text-gray-800">82.34</span>
            </div>
            <div class="h-[44px] pl-5 pr-2.5 flex items-center justify-between">
              <div class="flex items-center space-x-2.5 text-gray-600 hover:text-gray-500">
                <img class="h-[20px] w-[20px]" src="@/assets/icons/currency/KGS.png" alt="">
                <div class="text-xs font-medium">KGS</div>
              </div>
              <span class="text-xs text-gray-800">82.34</span>
            </div>
            <div class="h-[44px] pl-5 pr-2.5 flex items-center justify-between">
              <div class="flex items-center space-x-2.5 text-gray-600 hover:text-gray-500">
                <img class="h-[20px] w-[20px]" src="@/assets/icons/currency/KZT.png" alt="">
                <div class="text-xs font-medium">KZT</div>
              </div>
              <span class="text-xs text-gray-800">82.34</span>
            </div>
            <div class="h-[44px] pl-5 pr-2.5 flex items-center justify-between">
              <div class="flex items-center space-x-2.5 text-gray-600 hover:text-gray-500">
                <img class="h-[20px] w-[20px]" src="@/assets/icons/currency/UZS.png" alt="">
                <div class="text-xs font-medium">UZS</div>
              </div>
              <span class="text-xs text-gray-800">82.34</span>
            </div>
          </div>
        </div>
      </div>
      <div class="grow">
        <OrderHistory />
      </div>
    </div>
    <Faq />
  </div>
</template>

<script setup lang="ts">
import { storeToRefs } from 'pinia'
import { useRouter } from 'vue-router'
import { useUserStore } from '@/store/User'
import OrderHistory from './components/OrderHistory.vue'
import Faq from './components/Faq.vue'

const router = useRouter()
const userStore = useUserStore()
const { client } = storeToRefs(userStore)
</script>